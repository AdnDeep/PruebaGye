function eMASReferencialJs() { } function funcionCerrar() { } eMASReferencialJs.serverPath = "", eMASReferencialJs.instrumentationKey = "", eMASReferencialJs.tipoMensaje = { Exito: 0, Error: 1, Advertencia: 2, Prompt: 3, Contrato: 4 }, eMASReferencialJs.Advertencia = { Titulo: "Advertencia" }, eMASReferencialJs.Informativo = { Titulo: "Informativo" }, eMASReferencialJs.Exito = { Titulo: "Exito" }, eMASReferencialJs.Error = { ErrorGeneral: "Se presento un error en la aplicaci&oacute;n, por favor comun&iacute;quese con la Direcci&oacute;n de Inform&aacute;tica.", ErrorPlanificacionCargo: "No podra actualizar el registro porque existe al menos un empleado asignado en la planificaci&oacute;n.", ErrorFaltaIdentificacion: "Debe escribir un número de identificaci&oacute;n para buscar.", ErrorPerderCambios: "Se perderan todos los cambios realizados </br> ¿Desea continuar?" }, eMASReferencialJs.botonAceptar = { Nombre: "Aceptar", Accion: "$(this).parents('.modal-dialog').parent().modal('hide');" }, eMASReferencialJs.botonNo = { Nombre: "No", Accion: "$(this).parents('.modal-dialog').parent().modal('hide');" }, eMASReferencialJs.mostrarProgress = function () { let e = eMASReferencialJs.htmlToElement('<div style="" id="loaderGif"><div class="loader">Loading...</div></div>'); document.body.appendChild(e) }, eMASReferencialJs.ocultarProgress = function () { eMASReferencialJs.FadeOutEffect("#loaderGif", 500, (function () { null != document.querySelector("#loaderGif") && null != document.querySelector("#loaderGif") && document.querySelector("#loaderGif").remove() })) }, eMASReferencialJs.mostrarPopup = function (e, n, a, r) { var t = $("#VentanaPopup").clone().appendTo("#Popups"); t.find(".modal-title").html(e), t.find(".modal-content").css("border", "1px solid #4f6d81"), t.find(".modal-header").css("background", '#fff url("../Referencial/Images/prompt_header.gif") repeat-x'), t.find(".modal-header").css("background-size", "cover"), t.find(".modal-header").css("color", "#355468"), t.find(".modal-footer").empty(), t.find(".modal-footer").css("background", "none"), t.find(".modal-footer").css("border", "none"), $.get(n, (function (e) { t.find(".modal-body").html(e), a() })), t.modal("show"), t.on("hidden.bs.modal", (function () { r(), t.html("") })) }, eMASReferencialJs.cerrarPopupDetail = function () { let e = $("#popup-detail"); null != e && e.modal("hide") }, eMASReferencialJs.ocultarMensajes = function () { var e = $("#VentanaMensajes"); null != e && e.modal("hide") }, eMASReferencialJs.mostrarPopupDetail = function (e, n, a, r, t) { let o = $("#popup-detail"); o.find(".modal-title").html(e), o.find(".modal-content").css("border", "1px solid #4f6d81"), o.find(".modal-header").css("background", '#fff url("../Referencial/Images/prompt_header.gif") repeat-x'), o.find(".modal-header").css("background-size", "cover"), o.find(".modal-header").css("color", "#355468"), o.find(".modal-footer").empty(), o.find(".modal-footer").css("background", "none"), o.find(".modal-footer").css("border", "none"), eMASReferencialJs.FetchPost(n, a, (function (e) { return null == e || null == e ? (console.error("Se ha producido una respuesta vacia desde el servidor"), void eMASReferencialJs.SetearMensajeDefaultAdvertencia("Se ha producido un error en el aplicativo {1}.")) : "EXITO" != e.messagetype ? (console.error(e.message), void eMASReferencialJs.SetearMensajeDefaultAdvertencia("Se ha producido un error en el aplicativo {2}.")) : (o.find(".modal-body").html(e.content), void o.modal({ backdrop: "static", keyboard: !1, show: !0 })) }), r, ""), o.on("hidden.bs.modal", (function () { o.find(".modal-body").html("") })) }, eMASReferencialJs.generarBoton = function (e, n) { var a = new Object; return a.Nombre = e, a.Accion = n, a }, eMASReferencialJs.mostrarMensajes = function (e, n, a, r) { var t = $("#VentanaMensajes"); t.find(".modal-header").html(e).css("fontWeight", "bold"); var o = t.find(".modal-body"); for (var l in o.html(""), a) o.append(a[l].Description + "<br>"); var i = t.find(".modal-footer"); if (i.html(""), t.find(".modal-content").css("background", "white"), t.find(".modal-header").css("color", "#000"), t.find(".modal-body").css("color", "#000"), t.find(".modal-body").css("min-height", "80px"), t.find(".modal-footer").css("background-color", "transparent"), t.find(".modal-footer").css("display", "unset"), n === eMASReferencialJs.tipoMensaje.Exito) for (var c in t.find(".modal-content").css("border", "1px solid #60a174"), t.find(".modal-header").css("background", '#e6f1e9 url("' + eMASReferencialJs.serverPath + 'Referencial/Images/success50.png") no-repeat right center'), r) i.append('<a class="btn btn-sm btnSuccess" onclick="' + r[c].Accion + '">' + r[c].Nombre + "</a>"); else if (n === eMASReferencialJs.tipoMensaje.Error) for (var s in t.find(".modal-content").css("border", "1px solid #924949"), t.find(".modal-header").css("background", '#f2e4e4 url("' + eMASReferencialJs.serverPath + 'Referencial/Images/error50.png") no-repeat right center'), r) i.append('<a class="btn btn-sm btnError" onclick="' + r[s].Accion + '">' + r[s].Nombre + "</a>"); else if (n === eMASReferencialJs.tipoMensaje.Advertencia) for (var d in t.find(".modal-content").css("border", "1px solid #c5a524"), t.find(".modal-header").css("background", '#fffcd9 url("' + eMASReferencialJs.serverPath + 'Referencial/Images/warning50.png") no-repeat right center'), r) i.append('<a class="btn btn-sm btnWarning" onclick="' + r[d].Accion + '">' + r[d].Nombre + "</a>"); else if (n === eMASReferencialJs.tipoMensaje.Prompt) for (var u in t.find(".modal-content").css("border", "1px solid #5b4f4f"), t.find(".modal-header").css("background", '#d5d8da url("' + eMASReferencialJs.serverPath + 'Referencial/Images/prompt50.png") no-repeat right center'), r) "Si" === r[u].Nombre ? i.append('<a class="btn btn-sm btnSi" onclick="' + r[u].Accion + '">' + r[u].Nombre + "</a>") : "No" === r[u].Nombre ? i.append('<a class="btn btn-sm btnNo" onclick="' + r[u].Accion + '">' + r[u].Nombre + "</a>") : i.append('<a class="btn btn-sm" style="background:#fff url(' + eMASReferencialJs.serverPath + 'Referencial/Images/prompt_header.gif) repeat-x; color: #6C6767; border:1px solid #5b4f4f; padding: 0rem 0.5rem;" href="#" onclick="' + r[u].Accion + '">' + r[u].Nombre + "</a>"); else if (n === eMASReferencialJs.tipoMensaje.Contrato) for (var f in t.find(".modal-header").css("background", "#93d9e4"), r) i.append('<a class="' + r[l].Clase + '" onclick="' + r[f].Accion + '">' + r[f].Nombre + "</a>"); t.modal({ backdrop: "static", keyboard: !1, show: !0 }), t.on("hidden.bs.modal", (function (e) { t.find(".modal-header").html(""), t.find(".modal-body").html(""), t.find(".modal-footer").html("") })) }, eMASReferencialJs.mostrarPanelMensajes = function (e, n) { var a = $("#DocumentoTramiteSolicitud").parents(".modal-dialog").parent().find(".modal-footer"); for (var r in a.empty(), n) a.append(n[r].Description + "<br>"); e === eMASReferencialJs.tipoMensaje.Exito ? (a.css("background", '#fff url("' + eMASReferencialJs.serverPath + 'Referencial/Images/success_header.gif") repeat-x'), a.css("color", "#3c7f51"), a.css("border", "1px solid #60a174")) : e === eMASReferencialJs.tipoMensaje.Error ? (a.css("background", '#fff url("' + eMASReferencialJs.serverPath + 'Referencial/Images/error_header.gif") repeat-x'), a.css("color", "#6f2c2c"), a.css("border", "1px solid #924949")) : e === eMASReferencialJs.tipoMensaje.Advertencia && (a.css("background", '#fff url("' + eMASReferencialJs.serverPath + 'Referencial/Images/warning_header.gif") repeat-x'), a.css("color", "#957c17"), a.css("border", "1px solid #c5a524")), a.css("background-size", "cover"), a.css("text-align", "justify"), a.css("font-size", "13px"), a.css("font-weight", "bold"), a.css("padding", "5px") }, eMASReferencialJs.generateBuscador = function (e, n, a, r, t, o) { e.addClass("input-group"), e.css("width", "100%"); var l = r ? "required" : "", i = null == o || "" === o ? "" : 'maxlength="' + o + '"'; return null == t || "" === t ? e.append('<input type="text" class="form-control nopegar noAceptaCaracterEspecial" name="' + n + '" ' + l + " " + i + " />") : e.append('<input type="text" class="form-control ' + t + '" name="' + n + '" ' + l + " " + i + " />"), e.append('<div class="input-group-append"><button type="button" class="btn btnBuscar" id="' + a + '" name="' + a + '"><i class="fa fa-search"></i></button></div>'), r && e.append('<div class="invalid-feedback">Campo requerido.</div>'), e }, eMASReferencialJs.GenerarComponenteBuscador = function (e, n, a) { return e.addClass("input-group"), e.css("width", "100%"), e.append('<input type="text" class="form-control" name="' + n + '" ' + a ? "required" : ">"), e.append('<div class="input-group-append"><button type="button" class="btn btnBuscar" name="button' + n + '"><i class="fa fa-search"></i></button></div>'), a && e.append('<div class="invalid-feedback">Campo requerido.</div>'), e }, eMASReferencialJs.EventoNoPegar = function () { $(".nopegar").bind("paste", (function (e) { e.preventDefault() })) }, eMASReferencialJs.EventoAceptaValorEntero = function () { $(".aceptaValorEntero").on("keypress keyup blur", (function (e) { $(this).val($(this).val().replace(/[^\d].+/, "")), 0 !== e.which && 8 !== e.which && (e.keyCode < 37 || e.keyCode > 40) && (e.which < 48 || e.which > 57) && e.preventDefault() })) }, eMASReferencialJs.EventoAceptaValorDecimal = function () { $(".aceptaValorDecimal").on("keypress keyup blur", (function (e) { if ($(this).val($(this).val().replace(/[^0-9\.]/g, "")), 0 !== e.which && 8 !== e.which && (e.keyCode < 37 || e.keyCode > 40) && (46 !== e.which || -1 !== $(this).val().indexOf(".")) && (e.which < 48 || e.which > 57)) e.preventDefault(); else if (e.which >= 48 && e.which <= 57) { var n = $(this).val() + String.fromCharCode(e.which); (parseFloat(n) < 0 || parseFloat(n) > 99999999999999 || n.substring(n.indexOf(".") + 1, -1 !== n.indexOf(".") ? n.length : 0).length > 4) && e.preventDefault() } })) }, eMASReferencialJs.EventoAceptaRangoValorDecimal = function () { $(".aceptaRangoValorDecimal").on("keypress keyup blur", (function (e) { if ($(this).val($(this).val().replace(/[^0-9\.]/g, "")), 0 !== e.which && 8 !== e.which && (e.keyCode < 37 || e.keyCode > 40) && (46 !== e.which || -1 !== $(this).val().indexOf(".")) && (e.which < 48 || e.which > 57)) e.preventDefault(); else if (e.which >= 48 && e.which <= 57) { var n = $(this).val() + String.fromCharCode(e.which); (parseFloat(n) < 0 || parseFloat(n) > 100 || n.substring(n.indexOf(".") + 1, -1 !== n.indexOf(".") ? n.length : 0).length > 2) && e.preventDefault() } })) }, eMASReferencialJs.FormarMensaje = function (e) { for (var n = "", a = 0; a < e.length; a++)1 === e.length ? n += e[a] : a !== e.length - 1 ? n += "* " + e[a] + "<br>" : n += "* " + e[a]; return n }, eMASReferencialJs.GenerarComponenteFechaHora = function (e, n, a, r, t) { var o = "TIME" === n ? "'fa fa-clock-o'" : "'fa fa-calendar'"; return e.addClass("input-group date"), e.css("width", "100%"), void 0 !== r && void 0 !== t ? (e.append('<input type="text" class="form-control" name="' + r + '" required />'), e.append('<span class="input-group-addon"><div class="btnDateTimeEdit"><i class=' + o + "></i></div></span>"), e.append('<div class="invalid-feedback">Campo requerido.</div>')) : (e.append('<input type="text" class="form-control" />'), e.append('<span class="input-group-addon"><div class="btnDateTimeEdit"><i class=' + o + "></i></div></span>")), e.datetimepicker({ format: "DATETIME" === n ? "DD/MM/YYYY HH:mm" : "DATE" === n ? "DD/MM/YYYY" : "TIME" === n && "HH:mm", icons: { time: "fa fa-clock-o", date: "fa fa-calendar", up: "fa fa-arrow-up", down: "fa fa-arrow-down" }, defaultDate: null !== a && "" !== a && void 0 !== a && a }), e }, eMASReferencialJs.ObtenerFecha = function (e) { try { var n = e.data("DateTimePicker").date()._d; return n.getFullYear() + "-" + (n.getMonth() + 1) + "-" + n.getDate() } catch (e) { return "" } }, eMASReferencialJs.VincularComponenteFechaHora = function (e, n) { e.on("dp.change", (function (e) { n.data("DateTimePicker").minDate(e.date) })), n.on("dp.change", (function (n) { e.data("DateTimePicker").maxDate(n.date) })) }, eMASReferencialJs.ConvertirFecha = function (e) { var n = ""; if (null !== e) { var a = e.split("/"); n = a[2] + "-" + a[1] + "-" + a[0] } return n }, eMASReferencialJs.ObtenerFechaFormatoYYYYMMDD = function (e) { try { var n = e.data("DateTimePicker").date()._d; return n.getFullYear() + "-" + (n.getMonth() + 1) + "-" + n.getDate() } catch (e) { return null } }, eMASReferencialJs.FormatoMes = function (e, n, a) { var r; switch (e) { case 1: r = "Enero"; break; case 2: r = "Febrero"; break; case 3: r = "Marzo"; break; case 4: r = "Abril"; break; case 5: r = "Mayo"; break; case 6: r = "Junio"; break; case 7: r = "Julio"; break; case 8: r = "Agosto"; break; case 9: r = "Septiembre"; break; case 10: r = "Octubre"; break; case 11: r = "Noviembre"; break; case 12: r = "Diciembre" }return r }, eMASReferencialJs.FormatoFecha = function (e, n, a) { return moment(e).format("MM/DD/YYYY") }, eMASReferencialJs.GenerarComponenteTabla = function (e, n, a, r, t, o) { null !== r ? e.bootstrapTable({ uniqueId: n, columns: a, toolbar: r, search: o }) : e.bootstrapTable({ uniqueId: n, columns: a, search: o }), e.children("thead").addClass("theadTable"), e.bootstrapTable("load", null === t ? [] : t) }, eMASReferencialJs.FormatoCasillaSeleccion = function (e, n, a) { return e ? "<input type='checkbox' checked disabled>" : "<input type='checkbox' disabled>" }, eMASReferencialJs.ObtenerSeleccion = function (e) { return $.map(e.bootstrapTable("getSelections"), (function (e) { return e }))[0] }, eMASReferencialJs.ObtenerSelecciones = function (e) { return $.map(e.bootstrapTable("getSelections"), (function (e) { return e })) }, eMASReferencialJs.GenerarComponenteSelector = function (e) { e.chosen({ width: "100%" }), e.trigger("chosen:updated") }, eMASReferencialJs.InsertarElementosComponenteSelector = function (e, n) { var a = e.val(); e.empty().append($("<option>", { value: 0, text: "Seleccione..." })), $.each(n, (function (n, a) { e.append($("<option>", { value: a.Value, text: a.Text })) })), null !== a && n.findIndex((e => e.Value === a)) < 0 && (a = 0), e.val(null !== a ? a : 0), e.trigger("chosen:updated") }, eMASReferencialJs.InsertarElementoComponenteSelector = function (e, n, a) { e.empty().append($("<option>", { value: 0, text: "Seleccione..." })), e.append($("<option>", { value: n, text: a })), e.val(null !== n ? n : 0), e.trigger("chosen:updated") }, eMASReferencialJs.LimpiarComponenteSelector = function (e) { e.empty().append($("<option>", { value: 0, text: "Seleccione..." })), e.val(0), e.trigger("chosen:updated") }, eMASReferencialJs.Ajax = function (e, n, a, r) { $.ajax(e).fail((function (r, t, o) { var l = ""; if (403 === r.status || 401 === r.status) eMASReferencialJs.ocultarProgress(), l = "<span>Su sesi&oacute;n ha caducado, para volver a iniciar presione </span><a href='" + eMASReferencialJs.serverPath + "'><b>Aqu&iacute;</b></a>", eMASReferencialJs.mostrarMensajes("Sesión", eMASReferencialJs.tipoMensaje.Advertencia, [{ Description: l }], []); else { var i = eMASReferencialJs.Error.ErrorGeneral + " Detalle los siguientes datos para salucionar el problema. </br>Ruta: " + e.url; "" !== r.status.toString() && (i = i + "</br> StatusCode: " + r.status.toString()), "" !== r.statusText && (i = i + "</br> StatusText: " + r.statusText), "" !== r.responseText && (i = i + "</br> ResponseText: " + r.responseText), null !== n && n(), "alert" === a ? $("#div-alert").html("<div class='alert alert-danger alert-dismissible fade show' role='alert'>" + i + "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>") : eMASReferencialJs.mostrarMensajes("Error", eMASReferencialJs.tipoMensaje.Error, [{ Description: i }], [eMASReferencialJs.botonAceptar]) } })).always((function () { null != r && r() })) }, eMASReferencialJs.SetearEventosPanel = function (e) { $(".panel-collapse").on("show.bs.collapse", (function () { $(this).siblings(".panel-heading").addClass("active"); let e = document.querySelector(".consult-ls"); null != e && (e.style.display = "none") })), $(".panel-collapse").on("hide.bs.collapse", (function () { $(this).siblings(".panel-heading").removeClass("active"); let n = document.querySelector(".consult-ls"); if (null != n) { let a = $("#" + e).bootstrapTable("getOptions"); null == a && null == a || a.totalRows > 0 && (n.style.display = "block") } })) }, eMASReferencialJs.ObtenerAppConfig = function () { return { RutaBase: $("#hdnRutaBase").val(), FormatoFechaCliente: "dd/MM/yyyy" } }, eMASReferencialJs.FormSetVisibilityConsult = function (e, n) { let a = document.querySelector(".consult-ls"); if (null != a && (a.style.display = e ? "" : "none"), "" == n || null == n) return; let r = $("#" + n).bootstrapTable("getOptions"); null == r && null == r || 0 != r.totalRows && null != r.totalRows || e && null != a && (a.style.display = "none") }, eMASReferencialJs.FormSetVisibilityPanel = function (e) { let n = document.querySelector(".panel-filter"); null != n && (n.style.display = e ? "" : "none") }, eMASReferencialJs.htmlToElement = function (e) { var n = document.createElement("template"); return e = e.trim(), n.innerHTML = e, n.content.firstChild }, eMASReferencialJs.SetearMensajeDefaultAdvertencia = function (e) { eMASReferencialJs.mostrarMensajes(eMASReferencialJs.Advertencia.Titulo, eMASReferencialJs.tipoMensaje.Advertencia, [{ Description: e }], [eMASReferencialJs.botonAceptar]) }, eMASReferencialJs.SetearMensajeDefaultExito = function (e) { eMASReferencialJs.mostrarMensajes(eMASReferencialJs.Exito.Titulo, eMASReferencialJs.tipoMensaje.Exito, [{ Description: e }], [eMASReferencialJs.botonAceptar]) }, eMASReferencialJs.SetearPlantillaPagineo = function (e, n, a, r) { let t = "", o = "", l = a, i = r, c = $("#" + n), s = Array(), d = 1; for (let e = i; e <= l; e++)s[0] = r, l != i && s[d - 1] != l && (s[d] = e + 1), d++; s = s.slice(0, 5); let u = l, f = 1; l != i && (f = i + 1); let p = 1; i > 1 && (p = i - 1), t += '<ul class="pagination justify-content-center">', t += '<li class="page-item">', t += '<a class="page-link" href="#" onclick="' + e + "('1')\">", t += '<i class="fa fa-fast-backward"></i>', t += "</a></li>", t += '<li class="page-item"><a class="page-link" href="#" onclick="' + e + "('" + p + "')\">", t += '<i class="fa fa-backward"></i></a></li>'; for (let n = 0; n < s.length; n++)o += '<li class="page-item">', o += '<a class="page-link active" onclick="' + e + "('" + s[n] + '\')" href="#">', o += (s[n] === i ? "<strong>" + s[n] + "</strong>" : s[n]) + "</a>", o += "</li>"; t += o + '<li class="page-item"><a class="page-link" href="#" onclick="' + e + "('" + f + "')\">", t += '<i class="fa fa-forward"></i></a></li>', t += '<li class="page-item">', t += '<a class="page-link" href="#" onclick="' + e + "('" + u + "')\">", t += '<i class="fa fa-fast-forward"></i></a></li></ul>', c.append(t) }, eMASReferencialJs.EncontrarMensaje = function (e) { return e.codigo == this.codigo }, eMASReferencialJs.SetearEvtFormularioGenerico = function (e, n, a, r) { let t = document.querySelector(".regresar-edit"), o = document.querySelector(".cancelar-edit"), l = document.querySelector(".guardar-edit"); t.removeEventListener("click", e), t.addEventListener("click", e), o.removeEventListener("click", n), o.addEventListener("click", n), l.removeEventListener("click", a), l.addEventListener("click", a) }, eMASReferencialJs.InicializarPanelGenerico = function (e, n, a, r, t) { let o = document.querySelector("#" + e + " .panel-body"), l = document.querySelector(".consult-ls"), i = document.querySelector(".consultar"), c = document.querySelector(".limpiar"), s = document.querySelectorAll(".nuevo"); null != o && eMASReferencialJs.SetearEventosPanel(t), null != l && (l.style.display = "none"), null != i && i.addEventListener("click", r), null != c && c.addEventListener("click", a), null != s && s.forEach((function (e) { e.addEventListener("click", n) })), eMASReferencialJs.FormSetVisibilityConsult(!1) }, eMASReferencialJs.CargarCombosGenerico = function (e) { e.forEach((function (e) { let n = { key1: e.key, target: e.ctrl }, a = null == e.parameter1 ? "" : e.parameter1, r = null == e.parameter2 ? "" : e.parameter2; eMASReferencialJs.FetchPost(e.ruta, n, eMASReferencialJs.CargarCombosGenericoRespuesta, e.fnCallback2, a, r) })) }, eMASReferencialJs.LimpiarControlesHtml = function (e) { let n = document.querySelector(e); if (null == n || null == n) return; let a = n.querySelectorAll("input"); null != a && null != a && a.forEach((function (e) { e.value = "" })); let r = n.querySelectorAll("select"); null != r && null != r && r.forEach((function (e) { e.selectedIndex = -1 })) }, eMASReferencialJs.CargarCombosGenericoRespuesta = function (e) { if (null != e && null != e) if (null != e.key && null != e.key && "" != e.key && null != e.target && null != e.target && "" != e.target) if ("ERROR" != e.key) { if (null != e.datasource && null != e.datasource) { let n = document.querySelector(`#${e.target}`); if (null != n && null != n) { let a = ""; e.datasource.forEach((function (e) { a += `<option value=${e.key}>${e.value}</option>\n` })), n.innerHTML = a, n.selectedIndex = -1 } } } else console.log(e.target); else console.log("Respuesta incorrecta del servidor CargarCombosGenerico (2)"); else console.log("Respuesta incorrecta del servidor CargarCombosGenerico (1)") }, eMASReferencialJs.FnGeneralVacia = function () { }, eMASReferencialJs.FetchPost = function (e, n, a, r, t, o) { let l = eMASReferencialJs.ObtenerAppConfig().RutaBase; l = "/" === l ? "/" : l + "/", fetch(l + e, { method: "POST", headers: { "Content-type": "application/json;charset=UTF-8" }, body: JSON.stringify(n) }).then((e => e.json())).then(a).then(r.bind(null, t, o)).catch((function (e) { console.log("Fetchpost Generic Error", e) })) }, eMASReferencialJs.ObtenerAnioSistema = function () { return (new Date).getFullYear() }, eMASReferencialJs.FadeOutEffect = function (e, n, a) { let r = document.querySelector(e), t = n / 1e3; r.style.transition = t + "s", r.style.opacity = 0; const o = setInterval((function () { r.style.opacity <= 0 && (clearInterval(o), null != a && a()) }), n) }, eMASReferencialJs.SetearFechaBootstrap = function (e) { $(e).datepicker({ uiLibrary: "bootstrap4", locale: "es-es", format: "dd/mm/yyyy", autoclose: !0 }) }, eMASReferencialJs.SelectItemByValue = function (e, n) { for (var a = 0; a < e.options.length; a++)if (e.options[a].value === n) { e.selectedIndex = a; break } }, eMASReferencialJs.FormatearFecha = function (e) { if (null == e || null == e || "" == e) return null; let n = "", a = e.split("/"); return 3 == a.length && (n = a[2] + "-" + a[1] + "-" + a[0]), n }, eMASReferencialJs.EsDecimalConPunto = function (e) { let n = e.target.value, a = e.which ? e.which : e.keyCode; return 46 == a ? -1 === n.indexOf(".") || (e.preventDefault(), !1) : (a > 31 && (a < 48 || a > 57) && e.preventDefault(), !1) }, eMASReferencialJs.SetearLabelError = function (e, n, a) { let r = document.querySelector(n); if (null != r && null != r) if (e) { let e = `<strong>Error</strong> - ${a}`; r.classList.remove("hidden"), r.innerHTML = e } else r.classList.remove("hidden"), r.classList.add("hidden"), r.innerHTML = ""; else console.error("El elemento No Existe") }, eMASReferencialJs.EmisionPromptWarning = function (e, n, a) { let r = a; null == r && (r = "$(this).parents('.modal-dialog').parent().modal('hide');"); let t = n; eMASReferencialJs.mostrarMensajes(eMASReferencialJs.Advertencia.Titulo, eMASReferencialJs.tipoMensaje.Prompt, [{ Description: e }], [{ Nombre: "Si", Accion: t }, { Nombre: "No", Accion: r }]) }, eMASReferencialJs.ConsultPosLlenarComboGeneric = function (e, n) { let a = document.querySelector(`#${e}`), r = document.querySelector(`#${n}`); null != a && null != r && eMASReferencialJs.SelectItemByValue(a, r.value) }, eMASReferencialJs.setearInputEnMayuscula = function (e) { var n = e.target.selectionStart, a = e.target.selectionEnd; e.target.value = e.target.value.toUpperCase(), e.target.setSelectionRange(n, a) }, eMASReferencialJs.setearInputsEventsEnFormulario = function (e) { let n = document.querySelectorAll(e); if (null == n || null == n) return; let a = Array.from(n), r = a.length; for (let e = 0; e < r; e++)a[e].addEventListener("keyup", eMASReferencialJs.setearInputEnMayuscula, !1), a[e].autocomplete = "off" };