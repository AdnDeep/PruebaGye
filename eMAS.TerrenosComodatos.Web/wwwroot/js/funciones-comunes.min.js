function eMASReferencialJs(){}function funcionCerrar(){}eMASReferencialJs.serverPath="",eMASReferencialJs.instrumentationKey="",eMASReferencialJs.tipoMensaje={Exito:0,Error:1,Advertencia:2,Prompt:3,Contrato:4},eMASReferencialJs.tipoPersona={Empleado:1,Familiar:2},eMASReferencialJs.EstadoEmpleado={PreIngreso:1,Activo:2,Inactivo:3,Suspendido:4},eMASReferencialJs.TipoPermiso={PermisoEnDias:14,PermisoEnHoras:15},eMASReferencialJs.EstadoCeseFuncion={Ingresado:18,Reversado:19},eMASReferencialJs.EstadoCurso={Iniciado:22,Finalizado:23},eMASReferencialJs.TipoEmpleado={Aspirante:1,Empleado:2,Jubilado:3,ConcejalSuplente:4},eMASReferencialJs.ModalidadContratacion={ContratoOcasional:1,ContratoOcasionalNJS:2,NombramientoPermanente:3,NombramientoProvisional:4,NombramientoLibreRemocion:5},eMASReferencialJs.TipoContrato={Indefinido:1,Personalizado:2},eMASReferencialJs.TipoAccionPersonal={Ingreso:1,Reingreso:2,Ascenso:3,Traslado:4,Nombramiento:5,Sancion:6,Destitucion:7,Subrogacion:8,Encargo:9,Vacaciones:10,Comision:11,Licencia:12,CambioAdministrativo:13,Reclasificacion:14,Revalorizacion:15,CambioDenominacion:16,Renuncia:17,SupresionPuesto:18,Jubilacion:19,Fallecimiento:20,"Remoción":21,CompraRenuncia:22},eMASReferencialJs.TipoModalidad={Contratacion:1,Nombramiento:2},eMASReferencialJs.TipoTurnoDia={Laborable:3,DescansoObligatorio:4},eMASReferencialJs.TipoDiaCalendario={DiaNormal:5,Feriado:6,DiaRecuperablePorFeriado:7},eMASReferencialJs.TramitesRecursosHumanos={Contrato:1,NovedadAsistencia:2,Sobretiempo:3,LiquidacionHaber:4},eMASReferencialJs.FlujoLiquidacionHaber={LiquidacionGeneradaPreliminar:1,LiquidacionAnulada:2,LiquidacionModificadaAsistente:3,LiquidacionAprobadaAsistente:4,LiquidacionRetornadaJefe:5,LiquidacionAprobadaJefe:6,LiquidacionOficiadaDireccionFinanciera:7},eMASReferencialJs.FlujoSobretiempo={SolicitudIniciadaPorElEmpleado:8,SolicitudFinalizadaPorElEmpleado:9,SolicitudAprobadaPorElSupervisor:10,SolicitudRetornadaAlEmpleado:11,SolicitudAprobadaPorElJefe:12,SolicitudRetornadaPorElJefe:13,SolicitudAprobadaPorElDirector:14,SolicitudRetornadaPorElDirector:15,SolicitudAprobadaParaPago:16,SolicitudRetornadaPorRemuneraciones:17,SolicitudAnulada:18},eMASReferencialJs.FlujoNovedadAsistencia={SolicitudIniciadaPorElEmpleado:19,SolicitudAprobadaPorElJefe:20,SolicitudRetornadaPorElJefe:21,SolicitudAprobadaPorElDirector:22,SolicitudRetornadaPorElDirector:23,SolicitudAprobadaPorRrhh:24,SolicitudRetornadaPorRrhh:25,SolicitudAnulada:26},eMASReferencialJs.Error={ErrorGeneral:"Se presento un error en la aplicación, por favor comuniquese con la Dirección de Informática.",ErrorPlanificacionCargo:"No podra actualizar el registro porque existe al menos un empleado asignado en la planificación.",ErrorFaltaIdentificacion:"Debe escribir un número de identificación para buscar.",ErrorPerderCambios:"Se perderan todos los cambios realizados </br> ¿Desea continuar?"},eMASReferencialJs.botonAceptar={Nombre:"Aceptar",Accion:"$(this).parents('.modal-dialog').parent().modal('hide');"},eMASReferencialJs.botonNo={Nombre:"No",Accion:"$(this).parents('.modal-dialog').parent().modal('hide');"},eMASReferencialJs.mostrarProgress=function(){$("#loaderGif").show()},eMASReferencialJs.ocultarProgress=function(){$("#loaderGif").hide()},eMASReferencialJs.mostrarPopup=function(e,a,n,r){var o=$("#VentanaPopup").clone().appendTo("#Popups");o.find(".modal-title").html(e),o.find(".modal-content").css("border","1px solid #4f6d81"),o.find(".modal-header").css("background",'#fff url("../Referencial/Images/prompt_header.gif") repeat-x'),o.find(".modal-header").css("background-size","cover"),o.find(".modal-header").css("color","#355468"),o.find(".modal-footer").empty(),o.find(".modal-footer").css("background","none"),o.find(".modal-footer").css("border","none"),$.get(a,(function(e){o.find(".modal-body").html(e),n()})),o.modal("show"),o.on("hidden.bs.modal",(function(){r(),o.html("")}))},eMASReferencialJs.generarBoton=function(e,a){var n=new Object;return n.Nombre=e,n.Accion=a,n},eMASReferencialJs.mostrarMensajes=function(e,a,n,r){var o=$("#VentanaMensajes");o.find(".modal-header").html(e).css("fontWeight","bold");var i=o.find(".modal-body");for(var t in i.html(""),n)i.append(n[t].Description+"<br>");var c=o.find(".modal-footer");if(c.html(""),o.find(".modal-content").css("background","white"),o.find(".modal-header").css("color","#000"),o.find(".modal-body").css("color","#000"),o.find(".modal-body").css("min-height","80px"),o.find(".modal-footer").css("background-color","transparent"),o.find(".modal-footer").css("display","unset"),a===eMASReferencialJs.tipoMensaje.Exito)for(var s in o.find(".modal-content").css("border","1px solid #60a174"),o.find(".modal-header").css("background",'#e6f1e9 url("'+eMASReferencialJs.serverPath+'Referencial/Images/success50.png") no-repeat right center'),r)c.append('<a class="btn btn-sm btnSuccess" href="#" onclick="'+r[s].Accion+'">'+r[s].Nombre+"</a>");else if(a===eMASReferencialJs.tipoMensaje.Error)for(var l in o.find(".modal-content").css("border","1px solid #924949"),o.find(".modal-header").css("background",'#f2e4e4 url("'+eMASReferencialJs.serverPath+'Referencial/Images/error50.png") no-repeat right center'),r)c.append('<a class="btn btn-sm btnError" href="#" onclick="'+r[l].Accion+'">'+r[l].Nombre+"</a>");else if(a===eMASReferencialJs.tipoMensaje.Advertencia)for(var d in o.find(".modal-content").css("border","1px solid #c5a524"),o.find(".modal-header").css("background",'#fffcd9 url("'+eMASReferencialJs.serverPath+'Referencial/Images/warning50.png") no-repeat right center'),r)c.append('<a class="btn btn-sm btnWarning" href="#" onclick="'+r[d].Accion+'">'+r[d].Nombre+"</a>");else if(a===eMASReferencialJs.tipoMensaje.Prompt)for(var f in o.find(".modal-content").css("border","1px solid #5b4f4f"),o.find(".modal-header").css("background",'#d5d8da url("'+eMASReferencialJs.serverPath+'Referencial/Images/prompt50.png") no-repeat right center'),r)"Si"===r[f].Nombre?c.append('<a class="btn btn-sm btnSi" href="#" onclick="'+r[f].Accion+'">'+r[f].Nombre+"</a>"):"No"===r[f].Nombre?c.append('<a class="btn btn-sm btnNo" href="#" onclick="'+r[f].Accion+'">'+r[f].Nombre+"</a>"):c.append('<a class="btn btn-sm" style="background:#fff url('+eMASReferencialJs.serverPath+'Referencial/Images/prompt_header.gif) repeat-x; color: #6C6767; border:1px solid #5b4f4f; padding: 0rem 0.5rem;" href="#" onclick="'+r[f].Accion+'">'+r[f].Nombre+"</a>");else if(a===eMASReferencialJs.tipoMensaje.Contrato)for(var p in o.find(".modal-header").css("background","#93d9e4"),r)c.append('<a class="'+r[t].Clase+'" href="#" onclick="'+r[p].Accion+'">'+r[p].Nombre+"</a>");o.modal({backdrop:"static",keyboard:!1,show:!0}),o.on("hidden.bs.modal",(function(){funcionCerrar(),o.find(".modal-header").html(""),o.find(".modal-body").html(""),o.find(".modal-footer").html("")}))},eMASReferencialJs.mostrarPanelMensajes=function(e,a){var n=$("#DocumentoTramiteSolicitud").parents(".modal-dialog").parent().find(".modal-footer");for(var r in n.empty(),a)n.append(a[r].Description+"<br>");e===eMASReferencialJs.tipoMensaje.Exito?(n.css("background",'#fff url("'+eMASReferencialJs.serverPath+'Referencial/Images/success_header.gif") repeat-x'),n.css("color","#3c7f51"),n.css("border","1px solid #60a174")):e===eMASReferencialJs.tipoMensaje.Error?(n.css("background",'#fff url("'+eMASReferencialJs.serverPath+'Referencial/Images/error_header.gif") repeat-x'),n.css("color","#6f2c2c"),n.css("border","1px solid #924949")):e===eMASReferencialJs.tipoMensaje.Advertencia&&(n.css("background",'#fff url("'+eMASReferencialJs.serverPath+'Referencial/Images/warning_header.gif") repeat-x'),n.css("color","#957c17"),n.css("border","1px solid #c5a524")),n.css("background-size","cover"),n.css("text-align","justify"),n.css("font-size","13px"),n.css("font-weight","bold"),n.css("padding","5px")},eMASReferencialJs.generateBuscador=function(e,a,n,r,o,i){e.addClass("input-group"),e.css("width","100%");var t=r?"required":"",c=null==i||""===i?"":'maxlength="'+i+'"';return null==o||""===o?e.append('<input type="text" class="form-control nopegar noAceptaCaracterEspecial" name="'+a+'" '+t+" "+c+" />"):e.append('<input type="text" class="form-control '+o+'" name="'+a+'" '+t+" "+c+" />"),e.append('<div class="input-group-append"><button type="button" class="btn btnBuscar" id="'+n+'" name="'+n+'"><i class="fa fa-search"></i></button></div>'),r&&e.append('<div class="invalid-feedback">Campo requerido.</div>'),e},eMASReferencialJs.GenerarComponenteBuscador=function(e,a,n){return e.addClass("input-group"),e.css("width","100%"),e.append('<input type="text" class="form-control" name="'+a+'" '+n?"required":">"),e.append('<div class="input-group-append"><button type="button" class="btn btnBuscar" name="button'+a+'"><i class="fa fa-search"></i></button></div>'),n&&e.append('<div class="invalid-feedback">Campo requerido.</div>'),e},eMASReferencialJs.EventoNoPegar=function(){$(".nopegar").bind("paste",(function(e){e.preventDefault()}))},eMASReferencialJs.EventoAceptaValorEntero=function(){$(".aceptaValorEntero").on("keypress keyup blur",(function(e){$(this).val($(this).val().replace(/[^\d].+/,"")),0!==e.which&&8!==e.which&&(e.keyCode<37||e.keyCode>40)&&(e.which<48||e.which>57)&&e.preventDefault()}))},eMASReferencialJs.EventoAceptaValorDecimal=function(){$(".aceptaValorDecimal").on("keypress keyup blur",(function(e){if($(this).val($(this).val().replace(/[^0-9\.]/g,"")),0!==e.which&&8!==e.which&&(e.keyCode<37||e.keyCode>40)&&(46!==e.which||-1!==$(this).val().indexOf("."))&&(e.which<48||e.which>57))e.preventDefault();else if(e.which>=48&&e.which<=57){var a=$(this).val()+String.fromCharCode(e.which);(parseFloat(a)<0||parseFloat(a)>99999999999999||a.substring(a.indexOf(".")+1,-1!==a.indexOf(".")?a.length:0).length>4)&&e.preventDefault()}}))},eMASReferencialJs.EventoAceptaRangoValorDecimal=function(){$(".aceptaRangoValorDecimal").on("keypress keyup blur",(function(e){if($(this).val($(this).val().replace(/[^0-9\.]/g,"")),0!==e.which&&8!==e.which&&(e.keyCode<37||e.keyCode>40)&&(46!==e.which||-1!==$(this).val().indexOf("."))&&(e.which<48||e.which>57))e.preventDefault();else if(e.which>=48&&e.which<=57){var a=$(this).val()+String.fromCharCode(e.which);(parseFloat(a)<0||parseFloat(a)>100||a.substring(a.indexOf(".")+1,-1!==a.indexOf(".")?a.length:0).length>2)&&e.preventDefault()}}))},eMASReferencialJs.FormarMensaje=function(e){for(var a="",n=0;n<e.length;n++)1===e.length?a+=e[n]:n!==e.length-1?a+="* "+e[n]+"<br>":a+="* "+e[n];return a},$.fn.serializeFormJSON=function(){var e={},a=this.serializeArray();return $.each(a,(function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""})),e},eMASReferencialJs.GenerarComponenteFechaHora=function(e,a,n,r,o){var i="TIME"===a?"'fa fa-clock-o'":"'fa fa-calendar'";return e.addClass("input-group date"),e.css("width","100%"),void 0!==r&&void 0!==o?(e.append('<input type="text" class="form-control" name="'+r+'" required />'),e.append('<span class="input-group-addon"><div class="btnDateTimeEdit"><i class='+i+"></i></div></span>"),e.append('<div class="invalid-feedback">Campo requerido.</div>')):(e.append('<input type="text" class="form-control" />'),e.append('<span class="input-group-addon"><div class="btnDateTimeEdit"><i class='+i+"></i></div></span>")),e.datetimepicker({format:"DATETIME"===a?"DD/MM/YYYY HH:mm":"DATE"===a?"DD/MM/YYYY":"TIME"===a&&"HH:mm",icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"},defaultDate:null!==n&&""!==n&&void 0!==n&&n}),e},eMASReferencialJs.ObtenerFecha=function(e){try{var a=e.data("DateTimePicker").date()._d;return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}catch(e){return""}},eMASReferencialJs.VincularComponenteFechaHora=function(e,a){e.on("dp.change",(function(e){a.data("DateTimePicker").minDate(e.date)})),a.on("dp.change",(function(a){e.data("DateTimePicker").maxDate(a.date)}))},eMASReferencialJs.ConvertirFecha=function(e){var a="";if(null!==e){var n=e.split("/");a=n[2]+"-"+n[1]+"-"+n[0]}return a},eMASReferencialJs.ObtenerFechaFormatoYYYYMMDD=function(e){try{var a=e.data("DateTimePicker").date()._d;return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}catch(e){return null}},eMASReferencialJs.FormatoMes=function(e,a,n){var r;switch(e){case 1:r="Enero";break;case 2:r="Febrero";break;case 3:r="Marzo";break;case 4:r="Abril";break;case 5:r="Mayo";break;case 6:r="Junio";break;case 7:r="Julio";break;case 8:r="Agosto";break;case 9:r="Septiembre";break;case 10:r="Octubre";break;case 11:r="Noviembre";break;case 12:r="Diciembre"}return r},eMASReferencialJs.FormatoFecha=function(e,a,n){return moment(e).format("MM/DD/YYYY")},eMASReferencialJs.GenerarComponenteTabla=function(e,a,n,r,o,i){null!==r?e.bootstrapTable({uniqueId:a,columns:n,toolbar:r,search:i}):e.bootstrapTable({uniqueId:a,columns:n,search:i}),e.children("thead").addClass("theadTable"),e.bootstrapTable("load",null===o?[]:o)},eMASReferencialJs.FormatoCasillaSeleccion=function(e,a,n){return e?"<input type='checkbox' checked disabled>":"<input type='checkbox' disabled>"},eMASReferencialJs.ObtenerSeleccion=function(e){return $.map(e.bootstrapTable("getSelections"),(function(e){return e}))[0]},eMASReferencialJs.ObtenerSelecciones=function(e){return $.map(e.bootstrapTable("getSelections"),(function(e){return e}))},eMASReferencialJs.GenerarComponenteSelector=function(e){e.chosen({width:"100%"}),e.trigger("chosen:updated")},eMASReferencialJs.InsertarElementosComponenteSelector=function(e,a){var n=e.val();e.empty().append($("<option>",{value:0,text:"Seleccione..."})),$.each(a,(function(a,n){e.append($("<option>",{value:n.Value,text:n.Text}))})),null!==n&&a.findIndex((e=>e.Value===n))<0&&(n=0),e.val(null!==n?n:0),e.trigger("chosen:updated")},eMASReferencialJs.InsertarElementoComponenteSelector=function(e,a,n){e.empty().append($("<option>",{value:0,text:"Seleccione..."})),e.append($("<option>",{value:a,text:n})),e.val(null!==a?a:0),e.trigger("chosen:updated")},eMASReferencialJs.LimpiarComponenteSelector=function(e){e.empty().append($("<option>",{value:0,text:"Seleccione..."})),e.val(0),e.trigger("chosen:updated")},eMASReferencialJs.Ajax=function(e,a,n){$.ajax(e).fail((function(r,o,i){var t="";if(403===r.status||401===r.status)eMASReferencialJs.ocultarProgress(),t="<span>Su sesión ha caducado, para volver a iniciar presione </span><a href='"+eMASReferencialJs.serverPath+"'><b>Aquí</b></a>",eMASReferencialJs.mostrarMensajes("Sesión",eMASReferencialJs.tipoMensaje.Advertencia,[{Description:t}],[]);else{var c=eMASReferencialJs.Error.ErrorGeneral+" Detalle los siguientes datos para salucionar el problema. </br>Ruta: "+e.url;""!==r.status.toString()&&(c=c+"</br> StatusCode: "+r.status.toString()),""!==r.statusText&&(c=c+"</br> StatusText: "+r.statusText),""!==r.responseText&&(c=c+"</br> ResponseText: "+r.responseText),null!==a&&a(),"alert"===n?$("#div-alert").html("<div class='alert alert-danger alert-dismissible fade show' role='alert'>"+c+"<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>"):eMASReferencialJs.mostrarMensajes("Error",eMASReferencialJs.tipoMensaje.Error,[{Description:c}],[eMASReferencialJs.botonAceptar])}}))};